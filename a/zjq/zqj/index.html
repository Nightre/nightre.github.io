<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­ç§‹æœˆé¥¼å¤§å†’é™©</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #000428, #004e92);
            font-family: 'Arial', sans-serif;
            color: white;
            overflow: hidden;
            height: 100vh;
            position: relative;
        }

        /* èƒŒæ™¯æ˜Ÿæ˜Ÿ */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        /* æµæ˜Ÿ */
        .meteor {
            position: absolute;
            width: 2px;
            height: 2px;
            background: white;
            box-shadow: 0 0 10px white;
            animation: shoot 3s linear infinite;
        }

        @keyframes shoot {
            0% {
                transform: translateX(100vw) translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateX(-100px) translateY(100vh);
                opacity: 0;
            }
        }

        /* æœˆäº® */
        .moon {
            position: absolute;
            top: 10%;
            right: 10%;
            width: 100px;
            height: 100px;
            background: #ffeb3b;
            border-radius: 50%;
            box-shadow: 0 0 20px #ffeb3b;
            opacity: 0.8;
        }

        /* å¤–æ˜Ÿäºº */
        .alien {
            position: absolute;
            font-size: 50px;
            animation: fly 10s linear infinite;
        }

        @keyframes fly {
            0% { left: -60px; top: 20%; }
            25% { left: 20%; top: 10%; }
            50% { left: 50%; top: 30%; }
            75% { left: 80%; top: 15%; }
            100% { left: 100vw; top: 25%; }
        }

        /* å‰§æƒ…é˜¶æ®µ */
        #story {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
        }

        .story-line {
            opacity: 0;
            transition: opacity 1s ease-in;
            font-size: 24px;
            margin: 20px 0;
        }

        .story-line.show {
            opacity: 1;
        }

        #start-game {
            opacity: 0;
            transition: opacity 1s ease-in;
            font-size: 28px;
            cursor: pointer;
            margin-top: 30px;
        }

        #start-game.show {
            opacity: 1;
        }

        /* æ¸¸æˆé˜¶æ®µ */
        #game {
            display: none;
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        #click-prompt {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 32px;
            text-align: center;
            z-index: 5;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.05); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }

        /* æœˆé¥¼ */
        .moon-cake {
            position: absolute;
            width: 60px;
            height: 60px;
            background: radial-gradient(circle, #d4a574, #8b4513);
            border-radius: 50%;
            cursor: pointer;
            animation: float 4s ease-in-out infinite;
            z-index: 3;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        /* ä¿¡ä»¶å¼¹å‡º */
        #letter-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 200px;
            background: rgba(0, 0, 0, 0.8);
            border: 2px solid #ffeb3b;
            border-radius: 10px;
            z-index: 20;
            text-align: center;
            padding: 20px;
            font-size: 16px;
        }

        #close-letter {
            margin-top: 20px;
            background: #ffeb3b;
            color: black;
            border: none;
            padding: 10px;
            cursor: pointer;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯å…ƒç´  -->
    <div class="moon"></div>
    <div class="alien">ğŸ‘½</div>

    <!-- å‰§æƒ…é˜¶æ®µ -->
    <div id="story">
        <div class="story-line" id="line1"></div>
        <div class="story-line" id="line2"></div>
        <div class="story-line" id="line3"></div>
        <div class="story-line" id="line4"></div>
        <div class="story-line" id="line5"></div>
        <div id="start-game">ç‚¹å‡»å¼€å§‹æ¸¸æˆ</div>
    </div>

    <!-- æ¸¸æˆé˜¶æ®µ -->
    <div id="game">
        <div id="click-prompt">è¯·ç‚¹å‡»å±å¹•å¼€å§‹å†’é™©ï¼</div>
        <div id="letter-modal">
            <div id="letter-content"></div>
            <button id="close-letter">å…³é—­</button>
        </div>
    </div>

    <script>
        // æ•…äº‹å†…å®¹
        const storyLines = [
            "åœ¨é¥è¿œçš„æœˆçƒä¸Šï¼Œä½ç€ä¸€ä¸ªå¥½å¥‡çš„å¤–æ˜Ÿäººã€‚",
            "å®ƒçœ‹åˆ°åœ°çƒä¸Šçš„äººä»¬åœ¨ä¸­ç§‹èŠ‚æ¬¢èšï¼Œåƒç€ç¾å‘³çš„æœˆé¥¼ã€‚",
            "å¤–æ˜Ÿäººé¦‹åäº†ï¼Œå·å·é£åˆ°åœ°çƒï¼Œå·äº†å¾ˆå¤šæœˆé¥¼ã€‚",
            "å¯è¿”ç¨‹æ—¶ï¼Œé£èˆ¹åäº†ï¼æœˆé¥¼æ’’æ»¡äº†å¤œç©ºã€‚",
            "ç°åœ¨ï¼Œè¿™äº›æœˆé¥¼åŒ–ä½œäº†æ˜Ÿæ˜Ÿï¼Œæ¯ä¸€é¢—éƒ½è—ç€ä¸€å°ç¥ç§˜çš„ä¿¡â€¦â€¦"
        ];

        let currentLine = 0;
        const storyLinesElements = [
            document.getElementById('line1'),
            document.getElementById('line2'),
            document.getElementById('line3'),
            document.getElementById('line4'),
            document.getElementById('line5')
        ];

        // æ˜¾ç¤ºä¸‹ä¸€è¡Œ
        function showNextLine() {
            if (currentLine < storyLines.length) {
                storyLinesElements[currentLine].textContent = storyLines[currentLine];
                storyLinesElements[currentLine].classList.add('show');
                currentLine++;
            }
            if (currentLine === storyLines.length) {
                document.getElementById('start-game').classList.add('show');
            }
        }

        // æ¸¸æˆå¯åŠ¨æ ‡å¿—
        let gameStarted = false;

        // ç‚¹å‡»äº‹ä»¶
        document.addEventListener('click', function(e) {
            if (document.getElementById('story').style.display !== 'none') {
                if (currentLine < storyLines.length || !document.getElementById('start-game').classList.contains('show')) {
                    showNextLine();
                } else {
                    // å¼€å§‹æ¸¸æˆ
                    document.getElementById('story').style.display = 'none';
                    document.getElementById('game').style.display = 'block';
                    generateStars();
                    generateMeteors();
                    setTimeout(() => {
                        document.getElementById('click-prompt').style.display = 'block';
                    }, 500);
                }
            } else if (!gameStarted && (e.target.id === 'click-prompt' || e.target.id === 'game')) {
                // ç‚¹å‡»å±å¹•å¼€å§‹æ¸¸æˆï¼Œåªæ‰§è¡Œä¸€æ¬¡
                gameStarted = true;
                document.getElementById('click-prompt').style.display = 'none';
                generateMoonCakes();
            } else if (e.target.classList.contains('moon-cake')) {
                // ç‚¹å‡»æœˆé¥¼
                const letterIndex = parseInt(e.target.dataset.letterIndex);
                e.target.style.display = 'none';
                showLetter(letterIndex);
            } else if (e.target.id === 'close-letter') {
                document.getElementById('letter-modal').style.display = 'none';
            }
        });

        // ç”Ÿæˆæ˜Ÿæ˜Ÿ
        function generateStars() {
            for (let i = 0; i < 100; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.width = star.style.height = (Math.random() * 3 + 1) + 'px';
                star.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(star);
            }
        }

        // ç”Ÿæˆæµæ˜Ÿ
        function generateMeteors() {
            setInterval(() => {
                const meteor = document.createElement('div');
                meteor.className = 'meteor';
                meteor.style.left = Math.random() * 100 + 'vw';
                meteor.style.top = Math.random() * 50 + '%';
                meteor.style.animationDelay = Math.random() * 3 + 's';
                document.body.appendChild(meteor);
                setTimeout(() => meteor.remove(), 3000);
            }, 2000);
        }

        // ä¿¡ä»¶å†…å®¹ï¼ˆ20å°ï¼‰
        const letters = [
            "ä¸­ç§‹å¿«ä¹ï¼æ„¿ä½ çš„ç”Ÿæ´»å¦‚æœˆé¥¼èˆ¬ç”œèœœã€‚",
            "æœˆåœ†äººåœ†ï¼Œå®¶å®¶å›¢åœ†ã€‚ç¥ä½ èŠ‚æ—¥æ„‰å¿«ï¼",
            "åœ¨å¤–æ˜Ÿäººçš„çœ¼ä¸­ï¼Œæœˆé¥¼æ˜¯å®‡å®™ä¸­æœ€ç¾å‘³çš„å®è—ã€‚",
            "å·æœˆé¥¼çš„å¤–æ˜Ÿäººè¯´ï¼šäººç±»çš„æƒ…è°Šæ¯”æœˆé¥¼æ›´çè´µã€‚",
            "ä»Šæ™šçš„æœˆäº®ç‰¹åˆ«åœ†ï¼Œè®¸ä¸ªæ„¿å§ï¼",
            "ä¸­ç§‹ä½³èŠ‚ï¼Œæ€å¿µå¦‚æ½®æ°´ã€‚è®°å¾—å›å®¶å“¦ã€‚",
            "æœˆé¥¼è™½åœ†ï¼Œå‹æƒ…æ›´åœ†ã€‚è°¢è°¢ä½ çš„é™ªä¼´ã€‚",
            "å¤–æ˜Ÿäººå­¦åˆ°äº†ï¼šåˆ†äº«æœˆé¥¼ï¼Œæ‰èƒ½çœŸæ­£å¿«ä¹ã€‚",
            "å«¦å¨¥å§å§çš„ç§˜å¯†ï¼šæœˆé¥¼é‡Œè—ç€æ— é™æƒŠå–œã€‚",
            "ç¥ä½ ä¸­ç§‹å®‰åº·ï¼Œäº‹ä¸šå¦‚æœˆå‡ã€‚",
            "é£èˆ¹åäº†ï¼Œä½†æ˜Ÿæ˜Ÿè§è¯äº†æˆ‘ä»¬çš„å†’é™©ã€‚",
            "ä¸€è½®æ˜æœˆç…§æˆ‘å¿ƒï¼Œåƒé‡Œå…±å©µå¨Ÿã€‚",
            "æœˆé¥¼çš„å‘³é“ï¼Œå”¤èµ·å„¿æ—¶çš„å›å¿†ã€‚",
            "åœ¨å¤–æ˜Ÿçƒï¼Œä¹Ÿè¦è¿‡ä¸­ç§‹ï¼",
            "æ„¿ä½ çš„çƒ¦æ¼å¦‚æœˆé¥¼å±‘ï¼Œä¸€æ‰«è€Œç©ºã€‚",
            "å›¢åœ†æ˜¯ä¸­ç§‹çš„ä¸»é¢˜ï¼Œçæƒœèº«è¾¹äººã€‚",
            "å¤–æ˜Ÿäººå¯„è¯­ï¼šåœ°çƒçš„æœˆé¥¼ï¼Œç”œåˆ°å¿ƒåã€‚",
            "èµæœˆã€åƒé¥¼ã€å¯„ç›¸æ€ã€‚",
            "ä¸­ç§‹çš„å¤œç©ºï¼Œè—ç€æ— æ•°æ•…äº‹ã€‚",
            "æœ€åä¸€å¼ ï¼šè°¢è°¢ä½ ç©è¿™ä¸ªæ¸¸æˆï¼ä¸­ç§‹å¿«ä¹~"
        ];

        // ç”Ÿæˆæœˆé¥¼ï¼Œæ¯ä¸ªç»‘å®šä¸€ä¸ªå”¯ä¸€ä¿¡ä»¶ç´¢å¼•
        function generateMoonCakes() {
            const numCakes = 20;
            // éšæœºæ‰“ä¹±ä¿¡ä»¶ç´¢å¼•ï¼Œç¡®ä¿ä¸€å¯¹ä¸€
            const shuffledIndices = [...Array(numCakes).keys()].sort(() => Math.random() - 0.5);
            for (let i = 0; i < numCakes; i++) {
                const cake = document.createElement('div');
                cake.className = 'moon-cake';
                cake.style.left = Math.random() * 90 + '%';
                cake.style.top = Math.random() * 80 + 10 + '%';
                cake.style.animationDelay = Math.random() * 4 + 's';
                cake.style.animationDuration = (Math.random() * 3 + 3) + 's';
                cake.dataset.letterIndex = shuffledIndices[i]; // ç»‘å®šå”¯ä¸€ç´¢å¼•
                cake.innerHTML = 'ğŸ¥®'; // ä½¿ç”¨æœˆé¥¼emoji
                cake.style.fontSize = '60px';
                cake.style.lineHeight = '60px';
                cake.style.textAlign = 'center';
                document.getElementById('game').appendChild(cake);
            }
        }

        // æ˜¾ç¤ºæŒ‡å®šä¿¡ä»¶
        function showLetter(index) {
            const letter = letters[index];
            document.getElementById('letter-content').textContent = letter;
            document.getElementById('letter-modal').style.display = 'block';
        }
    </script>
</body>
</html>